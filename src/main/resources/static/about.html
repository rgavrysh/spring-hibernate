<div ng-controller="about as about" class="container">
    <p>Hello {{about.customer.name}} !</p>
</div>
<div ng-controller="userForm as userForm">
    <button style="margin: 20px" class="btn btn-success btn-lg" ng-click="userForm.showForm()">Add new user</button>
    <form name="form" ng-show="userForm.isExpanded" id="uForm" class="form-horizontal">
        <div class="form-group">
            <label for="inputText3" class="col-sm-2 control-label">Username</label>
            <div class="col-sm-10 input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                <input type="text" class="form-control" id="inputText3" placeholder="Login"
                       ng-model="userForm.userInfo.name" ng-minlength="4" required>
            </div>
        </div>
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Email</label>
            <div class="col-sm-10 input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                <input type="email" class="form-control" id="inputEmail3" placeholder="Email"
                       ng-model="userForm.userInfo.email" required>
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Phone</label>
            <div class="col-sm-10 input-group">
                <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>
                <input type="number" class="form-control" id="inputPhone3" placeholder="Phone"
                       ng-model="userForm.userInfo.phone" required>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-2">
                <button type="button" ng-disabled="form.$invalid" class="btn btn-success" ng-click="userForm.save(userForm.userInfo)">Add
                </button>
            </div>
        </div>
    </form>
    <!--<span id="uForm" style="display:none">Form appears here</span>-->
</div>
<div ng-show="admin" ng-controller="about as about" class="container panel panel-info">
    <div class="panel-heading">Users</div>
    <table class="table table-striped table-bordered table-hover">
        <thead>
        <tr>
            <th>#</th>
            <th>Username</th>
            <th>email</th>
            <th>phone</th>
            <th>roles</th>
            <th>edit</th>
        </tr>
        </thead>
        <tbody>
        <div style="display: block;" id="progressbar" class="progress">
            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuemin="0"
                 aria-valuemax="100" aria-valuenow="50" style="width: 50%">
                <span class="sr-only"> 45% complete</span>
            </div>
        </div>
        <tr ng-repeat="user in about.users">
            <td>{{$index + 1}}</td>
            <td>{{user.name}}</td>
            <td>{{user.email}}</td>
            <td>{{user.phone}}</td>
            <td>
                <span ng-repeat="role in user.role">{{role.authority}} </span>
            </td>
            <td>
                <div class="btn-group btn-group-sm" role="group" aria-label="...">
                    <button class="btn btn-warning">Edit</button>
                    <button ng-click="about.deleteUser(user)" type="submit" class="btn btn-danger">Delete</button>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>